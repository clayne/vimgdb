# vim: set filetype=python:

define _vimgdb
if $argc >= 1
    set $_vimgdb_option = "$arg0"
else
    set $_vimgdb_option = "vimgdb init option"
end

python
from vimgdb import Vimgdb
# time function
def Timed(timed, function, *args, **kwargs):
    if timed:
        import timeit
        t = timeit.Timer(lambda: function(*args, **kwargs))
        try:
            print t.timeit(1)," Seconds"
        except:
            t.print_exc()
    else:
        function(*args, **kwargs)

vimgdb = Vimgdb()
Timed(True,vimgdb.Communicate)

end
end

alias vim = _vimgdb

define hookpost-break
    _vimgdb breakpoints
end

define hookpost-clear
    _vimgdb breakpoints
end

define hookpost-delete
    _vimgdb breakpoints
end

define hook-stop
    _vimgdb
end

define hookpost-up
    _vimgdb
end

define hookpost-down
    _vimgdb
end

